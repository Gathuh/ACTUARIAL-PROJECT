"0","kaplan_meier=survfit(Surv(Duration ,event)~1,data=data)"
"0","# estimating survivor funtion"
"0",""
"0",""
"0","# Define intervals"
"0","intervals <- seq(0, max(data$Duration), by = 30) "
"0",""
"0","# Create a function to summarize data by intervals"
"0","summarize_by_interval <- function(data, intervals) {"
"0","  n_intervals <- length(intervals) - 1"
"0","  n_at_risk <- numeric(n_intervals)"
"0","  n_events <- numeric(n_intervals)"
"0","  n_censored <- numeric(n_intervals)"
"0","  "
"0","  for (i in 1:n_intervals) {"
"0","    lower <- intervals[i]"
"0","    upper <- intervals[i + 1]"
"0","    "
"0","    in_interval <- data$Duration >= lower & data$Duration < upper"
"0","    n_at_risk[i] <- sum(data$Duration >= lower)"
"0","    n_events[i] <- sum(data$event[in_interval] == 1)"
"0","    n_censored[i] <- sum(data$event[in_interval] == 0)"
"0","  }"
"0","  "
"0","  return(data.frame(intervals = intervals[-length(intervals)], n_at_risk, n_events, n_censored))"
"0","}"
"0",""
"0","# Summarize data by intervals"
"0","summary_data <- summarize_by_interval(data, intervals)"
"0",""
"0",""
"0","lt <- lifetable(x = intervals, n = n_at_risk, d = n_events, c = n_censored)"
"2","Error in lifetable(x = intervals, n = n_at_risk, d = n_events, c = n_censored) : 
  could not find function ""lifetable""
"
